- model_class = Programme
.page-header
  %h1
    - if !@programme.course_type.nil? && !@programme.name.nil?
      /=(DropDown::COURSE_TYPES.find_all{|disp, value| value == @programme.course_type}).map {|disp, value| disp}[0]+" : "+@programme.name
      =@programme.course_type+": "+@programme.name
    - else
      = @programme.name
 
= render 'shared/flashes'

.row
  .col-md-8.col-md-offset-1
    %dl.dl-horizontal
      %dt= t 'training.programme.code', :default => model_class.human_attribute_name(:combo_code) + ":"
      %dd= @programme.combo_code

      %dt=t 'training.programme.course_type', :default => model_class.human_attribute_name(:course_type) + ":"
      %dd
        =h @programme.is_root? ?  (DropDown::COURSE_TYPES.find_all{|disp, value| value == @programme.course_type}).map {|disp, value| disp}[0] :  (DropDown::COURSE_TYPES_SUB.find_all{|disp, value| value == @programme.course_type}).map {|disp, value| disp}[0]
        /= h (DropDown::COURSE_TYPES.find_all{|disp, value| value == @programme.course_type}).map {|disp, value| disp}[0]
       
      - if ['Topic', 'Subtopic'].include?(@programme.course_type)
        %dt=t 'training.programme.method', :default => model_class.human_attribute_name(:course_type) + ":"
        %dd  
          (
          %strong= (t 'training.programme.lecture')+" : "
          =@programme.lecture_duration if @programme.lecture_d?
          \/ 
          %strong= t('training.programme.tutorial')+" : "
          =@programme.tutorial_duration if @programme.tutorial_d?
          \/
          %strong= t('training.programme.practical')+" : "
          =@programme.practical_duration if @programme.practical_d?
          )     
      
      %dt= t 'training.programme.name', :default => model_class.human_attribute_name(:name) + ":"
      %dd= @programme.name
      
      - unless @programme.parent_id == nil
        %dt= t 'training.programme.subject_abbreviation', :default => model_class.human_attribute_name(:subject_abbreviation) + ":"
        %dd= @programme.subject_abbreviation

      - if @programme.is_root?
        %dt= t 'training.programme.level', :default => model_class.human_attribute_name(:level) + ":"
        %dd= (DropDown::COURSE_LEVEL.find_all{|disp, value| value == @programme.level}).map {|disp, value| disp} [0]
      
      %dt= t 'training.programme.credits', :default => model_class.human_attribute_name(:credits) + ":"
      %dd= @programme.credits
      
      %dt= t 'training.programme.status', :default => model_class.human_attribute_name(:status) + ":"
      %dd= (DropDown::COURSE_STATUS.find_all{|disp, value| value == @programme.status}).map {|disp, value| disp} [0]
      
      %dt=t 'training.programme.duration', :default => model_class.human_attribute_name(:duration) + ":"
      %dd
        =h @programme.duration
        =h @programme.durationtype? ? (DropDown::DURATIONTYPES.find_all{|disp, value| value == @programme.durationtype}).map {|disp, value| disp}[0] :  (DropDown::DURATION_TYPES.find_all{|disp, value| value == @programme.duration_type}).map {|disp, value| disp}[0]

.row
  .col-md-5.col-md-offset-3
    %hr
    .form-actions
      = link_to content_tag(:i, "", :class => "fa fa-arrow-left ") + " " + t('helpers.links.back'), training_programmes_path, :class => 'btn btn-default'
      = link_to content_tag(:i, "", :class => "fa fa-edit") + " " + t('helpers.links.edit'), edit_training_programme_path(@programme),  :class => 'btn btn-primary' 
      = link_to content_tag(:i, t('actions.new_node'), :class => "fa fa-leaf"), new_training_programme_path(:parent_id => @programme), :class => 'btn btn-info'
      = link_to content_tag(:i, " "+(t 'actions.parent_node'), :class => "fa fa-arrow-circle-up"), training_programme_path(@programme.parent), :class => 'btn btn-warning' unless @programme.parent.nil?
      = link_to content_tag(:i, "", :class => "fa fa-trash-o icon-white") + " " + t('helpers.links.destroy'), |
        training_programme_path(@programme),                                                                                                    |
        :method => 'delete',                                                                                                           |
        :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },                   |
        :class => 'btn btn-danger'
  
